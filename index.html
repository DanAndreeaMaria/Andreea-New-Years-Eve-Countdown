<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Andreea | New Years Eve Countdown</title>
    <link rel="stylesheet" href="styles.css">
    <!--Google Fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@100;200;500;700&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700&display=swap" rel="stylesheet">
  
    <!--Swiper library files-->
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />

    <!--Favicon-->
    <link rel="icon" type="image/x-icon" href="/favicon_io/favicon-16x16.png">
    
  </head>
  <body>

    <div id="snowflakeContainer">
      <p class="snowflake">*</p>
    </div>

    <div class="swiper-container">
      <div class="swiper-wrapper">

        <!--FIRST SLIDE-->
        <div class="swiper-slide">
          <div class="container-general">
            <div class="gallery-wrap wrap-effect-1">
              <div class="item">
                  <h1 class="first-section">
                    <h1 class="title-text">It's almost</h1>
                      <img src="images/year-2024.png" alt="year-2024" width="17%">
                    <h1 class="title-text">Let the countdown begin!</h1>
                  </h1>
                <img class="arrow" src="images/down-arrow.png" />
              </div>
            </div>
          </div>
        </div>
        <!--------------->

        <!--SECOND SLIDE-->
        <div class="swiper-slide">
          <div class="container-general">
            <div class="gallery-wrap wrap-effect-2">
              <div class="item"><p id="timer"></p></div>
              <img class="arrow" src="images/down-arrow.png">
            </div>
          </div>
        </div>
        <!--------------->

        <!--THIRD SLIDE-->
        <div class="swiper-slide">
          <div class="container-general">
            <div class="gallery-wrap wrap-effect-3">
              <div class="item"><h1 class="text-style">We are so close to the New Year's Eve!</h1></div>
              <img class="arrow" src="images/down-arrow.png" />
            </div>
          </div>
        </div>
        <!--------------->

        <!--FOURTH SLIDE-->
        <div class="swiper-slide">
          <div class="container-general wrap-effect-4">
            <div class="gallery-wrap">
              <div class="item"><h1 class="title-text-2">Here are some funny resolutions that will boost your mood! Click as many as you want and make sure you take them with you next year.</h1>
                <button class="accordion">One resolution is here!</button>
                <div class="panel">
                  <p class="acc-txt">I vow to procrastinate so efficiently that I become a world-class expert in last-minute brilliance. Why do today what can be done tomorrow?</p>
                </div>
                
                <button class="accordion">A good one is right here!</button>
                <div class="panel">
                  <p class="acc-txt">I resolve to turn my accidental naps into planned, professional nap sessions. It's not laziness; it's a skill!</p>
                </div>
                
                <button class="accordion">Click me for optimism!</button>
                <div class="panel">
                  <p class="acc-txt">This year, I will attempt to 'adult' more convincingly. Maybe even do my taxes without calling for parental support.</p>
                </div>

                <button class="accordion">This one is a must!</button>
                <div class="panel">
                  <p class="acc-txt">I resolve to embrace my inner awkwardness and turn it into a dance move. Awkwardness: the new dance craze!</p>
                </div>

                <button class="accordion">Can't enter the New Year without me!</button>
                <div class="panel">
                  <p class="acc-txt">I will attempt to eat more vegetables this year, as long as they are on top of a pizza. That counts, right?</p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!--------------->
      </div>
    </div>

<!-------------Scroll effect-------------->
<script>
  const swiper = new Swiper('.swiper-container', {
    direction: 'vertical',
    mousewheel: {},
    effect: 'cube',
    keyboard: {
      enabled: true,
      onlyInViewport: false
    }
  });
</script>
<!---------------------------------------->

<!-------------Countdown------------->
<script>
  // Setting the date we are counting down to
var countDownDate = new Date("Dec 31, 2023 00:00:00").getTime();

// Update the count down every 1 second
var x = setInterval(function() {

  // Get today's date and time
  var now = new Date().getTime();
    
  // Find the distance between now and the count down date
  var distance = countDownDate - now;
    
  // Time calculations for days, hours, minutes and seconds
  var days = Math.floor(distance / (1000 * 60 * 60 * 24));
  var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  var seconds = Math.floor((distance % (1000 * 60)) / 1000);
    
  // Output the result in an element with id="timer"
  document.getElementById("timer").innerHTML = days + "d " + hours + "h "
  + minutes + "m " + seconds + "s ";
    
  // If the count down is over, write a message
  if (distance < 0) {
    clearInterval(x);
    document.getElementById("timer").innerHTML = "HAPPY NEW YEAR!!! 2024 IS HERE!!!";
  }
}, 1000);
</script>
<!-------------------------------------------------------->


<!-------------------Snowflakes script-------------------->
<script>
  // The star of every good animation
var requestAnimationFrame = window.requestAnimationFrame ||
                            window.mozRequestAnimationFrame ||
                            window.webkitRequestAnimationFrame ||
                            window.msRequestAnimationFrame;

var transforms = ["transform",
                  "msTransform",
                  "webkitTransform",
                  "mozTransform",
                  "oTransform"];

var transformProperty = getSupportedPropertyName(transforms);

// Array to store our Snowflake objects
var snowflakes = [];

// Global variables to store our browser's window size
var browserWidth;
var browserHeight;

// Specify the number of snowflakes you want visible
var numberOfSnowflakes = 100;

// Flag to reset the position of the snowflakes
var resetPosition = false;

//
// It all starts here...
//
function setup() {
    window.addEventListener("DOMContentLoaded", generateSnowflakes, false);
    window.addEventListener("resize", setResetFlag, false);
}
setup();

//
// Vendor prefix management
//
function getSupportedPropertyName(properties) {
    for (var i = 0; i < properties.length; i++) {
        if (typeof document.body.style[properties[i]] != "undefined") {
            return properties[i];
        }
    }
    return null;
}

//
// Constructor for our Snowflake object
//
function Snowflake(element, speed, xPos, yPos) {

    // set initial snowflake properties
    this.element = element;
    this.speed = speed;
    this.xPos = xPos;
    this.yPos = yPos;

    // declare variables used for snowflake's motion
    this.counter = 0;
    this.sign = Math.random() < 0.5 ? 1 : -1;

    // setting an initial opacity and size for our snowflake
    this.element.style.opacity = .1 + Math.random();
    this.element.style.fontSize = 14 + Math.random() * 50 + "px";
}

//
// The function responsible for actually moving our snowflake
//
Snowflake.prototype.update = function () {

    // using some trigonometry to determine our x and y position
    this.counter += this.speed / 5000;
    this.xPos += this.sign * this.speed * Math.cos(this.counter) / 40;
    this.yPos += Math.sin(this.counter) / 40 + this.speed / 30;

    // setting our snowflake's position
    setTranslate3DTransform(this.element, Math.round(this.xPos), Math.round(this.yPos));

    // if snowflake goes below the browser window, move it back to the top
    if (this.yPos > browserHeight) {
        this.yPos = -50;
    }
}

//
// A performant way to set your snowflake's position
//
function setTranslate3DTransform(element, xPosition, yPosition) {
    var val = "translate3d(" + xPosition + "px, " + yPosition + "px" + ", 0)";
    element.style[transformProperty] = val;
}

//
// The function responsible for creating the snowflake
//
function generateSnowflakes() {

    // get our snowflake element from the DOM and store it
    var originalSnowflake = document.querySelector(".snowflake");

    // access our snowflake element's parent container
    var snowflakeContainer = originalSnowflake.parentNode;

    // get our browser's size
    browserWidth = document.documentElement.clientWidth;
    browserHeight = document.documentElement.clientHeight;

    // create each individual snowflake
    for (var i = 0; i < numberOfSnowflakes; i++) {

        // clone our original snowflake and add it to snowflakeContainer
        var snowflakeClone = originalSnowflake.cloneNode(true);
        snowflakeContainer.appendChild(snowflakeClone);

        // set our snowflake's initial position and related properties
        var initialXPos = getPosition(50, browserWidth);
        var initialYPos = getPosition(50, browserHeight);
        var speed = 5+Math.random()*40;

        // create our Snowflake object
        var snowflakeObject = new Snowflake(snowflakeClone,
                                            speed,
                                            initialXPos,
                                            initialYPos);
        snowflakes.push(snowflakeObject);
    }

    // remove the original snowflake because we no longer need it visible
    snowflakeContainer.removeChild(originalSnowflake);

    // call the moveSnowflakes function every 30 milliseconds
    moveSnowflakes();
}

//
// Responsible for moving each snowflake by calling its update function
//
function moveSnowflakes() {
    for (var i = 0; i < snowflakes.length; i++) {
        var snowflake = snowflakes[i];
        snowflake.update();
    }

    // Reset the position of all the snowflakes to a new value
    if (resetPosition) {
        browserWidth = document.documentElement.clientWidth;
        browserHeight = document.documentElement.clientHeight;

        for (var i = 0; i < snowflakes.length; i++) {
            var snowflake = snowflakes[i];

            snowflake.xPos = getPosition(50, browserWidth);
            snowflake.yPos = getPosition(50, browserHeight);
        }

        resetPosition = false;
    }

    requestAnimationFrame(moveSnowflakes);
}

//
// This function returns a number between (maximum - offset) and (maximum + offset)
//
function getPosition(offset, size) {
    return Math.round(-1*offset + Math.random() * (size+2*offset));
}

//
// Trigger a reset of all the snowflakes' positions
//
function setResetFlag(e) {
    resetPosition = true;
}

</script>
<!-------------------------------------------------------->

<!-----------------------Accordion------------------------>
<script>
  var acc = document.getElementsByClassName("accordion");
  var i;
  
  for (i = 0; i < acc.length; i++) {
    acc[i].addEventListener("click", function() {
      this.classList.toggle("active");
      var panel = this.nextElementSibling;
      if (panel.style.display === "block") {
        panel.style.display = "none";
      } else {
        panel.style.display = "block";
      }
    });
  }
  </script>
<!-------------------------------------------------------->

  </body>
</html>